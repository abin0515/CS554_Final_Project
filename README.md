# CS554 Final Project

## Service Deployments

### Database Services
Both MongoDB and Redis have been deployed in an AWS VM for our project:

- **MongoDB**: `18.188.222.62:27017`
- **Redis Stack Server**:  `18.188.222.62:6379`

### Messaging Service

Because we have multiple servers in the backend, we use RabbitMQ as a message queue to facilitate communication across these servers.

- **RabbitMQ web console**: `18.188.222.62:15672`

### Admin Credentials

Here are the admin creds for database and message queue services:

* User name: `myuser`
* Password: `mypassword`

### Connection Configuration
The connection details for both databases are configured in the `config/settings.js` file. Please refer to this file for the connection strings when developing features that require database access.


## Getting Started

### Backend `likes_server`
```sh
npm install
npm start
```

### Backend `points_server`

```sh
npm install
npm start
```

### Backend `server`

```sh
npm install
# Optional: if you want to seed the database with sample data
npm run seed 

# Optional: if you want to use your own Firebase domain for user authentication, set:
export FIREBASE_ADMIN_CERT_JSON_PATH="<PATH TO YOUR FIREBASE ADMIN CERT JSON>"
# Optional: if you want to use your own OpenAI API key, set:
export OPENAI_API_KEY="<YOUR OPENAI API KEY>"

npm start
```

`FIREBASE_ADMIN_CERT_JSON_PATH`:

* To allow backend user auth with Firebase, set environment variable `FIREBASE_ADMIN_CERT_JSON_PATH`  as the path of JSON cert file generated by Firebase console. If not set, a test Firebase admin cert with is used.
* REMEMBER to use credentials from the same Firebase project across front and backend!!

`OPENAI_API_KEY`:

* The chat feature is based on OpenAI LLM, which requires an [OpenAI API key](https://platform.openai.com/api-keys).
* When `OPENAI_API_KEY` is not set, it defaults to use test API key.

### Frontend `react_ui`

```sh
npm install
npm run build
npm run preview
```
