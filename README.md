# CS554 Final Project

## Service Deployments

### Database Services
Both MongoDB and Redis have been deployed in an AWS VM for our project:

- **MongoDB**: `18.188.222.62:27017`
- **Redis Stack Server**:  `18.188.222.62:6379`

### Messaging Service
- **RabbitMQ web console**: 18.188.222.62:15672`
Because we have multiple servers in the backend, we use RabbitMQ as a message queue to facilitate communication across these servers.

### Access Credentials

User name: `myuser`

Password: `mypassword`

### Connection Configuration
The connection details for both databases are configured in the `config/settings.js` file. Please refer to this file for the connection strings when developing features that require database access.



## Getting Started

### Frontend `react_ui`

```sh
npm install
npm run dev
```

### Backend `likes_server`
```sh
npm install
npm start
```

### Backend `server`

```sh
npm install

# if you want to use your own Firebase domain for user authentication, set:
export FIREBASE_ADMIN_CERT_JSON_PATH="<PATH TO YOUR FIREBASE ADMIN CERT JSON>"

npm start
```

`FIREBASE_ADMIN_CERT_JSON_PATH`:

* To allow backend user auth with Firebase, set environment variable `FIREBASE_ADMIN_CERT_JSON_PATH`  as the path of JSON cert file generated by Firebase console. If not set, a test Firebase admin cert with is used.
* REMEMBER to use credentials from the same Firebase project across front and backend!!


## OpenAI API Integration (Chat Functionality)

We have integrated OpenAI's API to enable advanced chat functionalities, including function calling. This is primarily handled in the `server` backend module.

### Setup Instructions:

1.  **Obtain an OpenAI API Key:**
    You will need an API key from OpenAI to use these features. You can create and manage your API keys at the [OpenAI API Keys page](https://platform.openai.com/api-keys).

2.  **Configure your `.env` file:**
    In the root directory of the `server` backend module, you should have a `.env` file (if not, create one from `.env.example` or a new one).
    Add your OpenAI API key to this `.env` file as follows:

    ```
    OPENAI_API_KEY=your_openai_api_key_here
    ```

    Replace `your_openai_api_key_here` with the actual key you obtained from the OpenAI platform.

### Understanding Function Calling

The chat service utilizes OpenAI's function calling capability. This allows the AI model to intelligently request to call predefined functions on our backend to retrieve information or perform actions, which it then uses to formulate its responses.

For more details on how this works, please refer to the official OpenAI documentation on [Function Calling](https://platform.openai.com/docs/guides/function-calling?api-mode=chat&example=get-weather).

This setup is crucial for the chat features in the `server` to work correctly. Ensure your API key is set up before running or testing these functionalities.



